<!DOCTYPE html>

<html lang="en">
        <head>
                <meta charset="utf-8">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <title> Math Blog </title>
                <link rel="stylesheet" href="style.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        </head>

<body>

<div class="container-fluid bg-dark">
        <div class="container p-3 text-white text-center">
                <h1>Yunus Tunçbilek </h1>
                <p>tuncbilek@wisc.edu</p>
                <a class="homelink" href="https://people.math.wisc.edu/~tuncbilek/">Go to the home page</a>
        </div>
</div>

<div class="container p-3"> 
        <div class="row">
                <div class="col-md-6 text-center my-auto" id="first_post"></div> 
                <div class="col-md-6 my-auto">
                        <img class="rounded-image" src="office.jpeg">
                        <div class="container text-center"><p id="caption">My desk at Van Vleck Hall. </p></div>
                </div>
        </div>
</div>

<div class="container p-3" id="top_container">
        <script>
                var top_container = document.getElementById("top_container")
                var req = new XMLHttpRequest;
                req.onload = function(){
                        search_for_tex = />([0-9]|[A-Z]|[a-z]| )*(.tex)</g
                        posts = []
                        f = ""
                        do{
                                f = search_for_tex.exec(this.responseText)
                                if (f){
                                        posts.push(f[0])
                                }
                        } while(f)

                        for(let i=0;i<posts.length;i++){
                                post_file_name = posts[i]

                                // get rid of the > and <
                                post_file_name = post_file_name.split(">")[1].split("<")[0]

                                var post_req = new XMLHttpRequest;
                                post_req.onload = function(){
                                        post = this.responseText
                                        const regex = /\$/

                                        // below code replaces $...$ with \(...\)
                                        post = post.split(regex).reduce( (a,b,i) => i %2 == 0 ? a + "\\(" + b : a + "\\)" + b )

                                        // create containers that TeX will go in
                                        // small/big container helps borders to be separated
                                        var big_container = document.createElement("div")
                                        var small_container = document.createElement("div")
                                        big_container.className = "container p-3"
                                        small_container.className = "container p-3 border"
                                        
                                        var p = document.createElement("p")
                                        p.innerHTML = post
                                        small_container.append(p)
                                        big_container.append(small_container)
                                        first_post = document.getElementById("first_post")

                                        if (i==0){//first post
                                                first_post.append(big_container)
                                        } else{
                                                top_container.append(big_container)
                                        }

                                        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
                                }

                                post_req.open("GET", "blog_posts/"+post_file_name)
                                post_req.send()
                        }
                }

                req.open("GET", "blog_posts/?C=M;O=D")
                req.send()
        </script>
</div>

<div class="container-fluid bg-dark"> 
        <div class="container p-3 text-white">
                <p>Copyright 2021-2023 Yunus Tunçbilek</p> 
        </div>
</div>

</html>